{
  "timestamp": 1757646625,
  "summary": {
    "total": 50,
    "passed": 36,
    "failed": 10,
    "timeouts": 4,
    "skipped": 0,
    "duration": 570.3934960365295,
    "integration_enabled": false
  },
  "results": {
    "local_drain_test.py": {
      "status": "FAIL",
      "duration": 0.257169246673584,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n============================ no tests ran in 0.12s =============================\n",
      "error": "",
      "traceback": ""
    },
    "quick_test.py": {
      "status": "PASS",
      "duration": 0.09440422058105469,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\nquick_test.py .                                                          [100%]\n\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 0.01s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "scripts/run_unstaller_tests.py": {
      "status": "FAIL",
      "duration": 0.10450482368469238,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n=============================== warnings summary ===============================\nscripts/run_unstaller_tests.py:22\n  /Users/baileymahoney/AgentForge/scripts/run_unstaller_tests.py:22: PytestCollectionWarning: cannot collect test class 'TestResult' because it has a __init__ constructor (from: scripts/run_unstaller_tests.py)\n    class TestResult:\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================== 1 warning in 0.02s ==============================\n",
      "error": "",
      "traceback": ""
    },
    "simple_test.py": {
      "status": "PASS",
      "duration": 0.08743405342102051,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\nsimple_test.py .                                                         [100%]\n\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 0.01s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "test_alert_scenarios.py": {
      "status": "FAIL",
      "duration": 0.17593121528625488,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n============================ no tests ran in 0.08s =============================\n",
      "error": "",
      "traceback": ""
    },
    "test_isolated/test_minimal.py": {
      "status": "FAIL",
      "duration": 1.1184797286987305,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntest_isolated/test_minimal.py ..F                                        [100%]\n\n=================================== FAILURES ===================================\n__________________________________ test_fails __________________________________\ntest_isolated/test_minimal.py:18: in test_fails\n    assert False, \"This test intentionally fails\"\nE   AssertionError: This test intentionally fails\nE   assert False\n=========================== short test summary info ============================\nFAILED test_isolated/test_minimal.py::test_fails - AssertionError: This test ...\n========================= 1 failed, 2 passed in 1.02s ==========================\n",
      "error": "",
      "traceback": ""
    },
    "test_jetstream_metrics.py": {
      "status": "PASS",
      "duration": 0.23582911491394043,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntest_jetstream_metrics.py s                                              [100%]\n\n=============================== warnings summary ===============================\ntest_jetstream_metrics.py::test_jetstream_operations\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py:148: PytestUnhandledCoroutineWarning: async def functions are not natively supported and have been skipped.\n  You need to install a suitable plugin for your async framework, for example:\n    - anyio\n    - pytest-asyncio\n    - pytest-tornasync\n    - pytest-trio\n    - pytest-twisted\n    warnings.warn(PytestUnhandledCoroutineWarning(msg.format(nodeid)))\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nSKIPPED [1] .venv/lib/python3.13/site-packages/_pytest/python.py:149: async def function and no async plugin installed (see warnings)\n======================== 1 skipped, 1 warning in 0.10s =========================\n",
      "error": "",
      "traceback": ""
    },
    "test_minimal.py": {
      "status": "FAIL",
      "duration": 1.1163320541381836,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntest_minimal.py ..F                                                      [100%]\n\n=================================== FAILURES ===================================\n__________________________________ test_fails __________________________________\ntest_minimal.py:18: in test_fails\n    assert False, \"This test intentionally fails\"\nE   AssertionError: This test intentionally fails\nE   assert False\n============================= slowest 25 durations =============================\n1.00s call     test_minimal.py::test_slow_pass\n\n(8 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED test_minimal.py::test_fails - AssertionError: This test intentionally ...\n========================= 1 failed, 2 passed in 1.03s ==========================\n",
      "error": "",
      "traceback": ""
    },
    "test_nats_connectivity.py": {
      "status": "FAIL",
      "duration": 0.1710216999053955,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n============================ no tests ran in 0.06s =============================\n",
      "error": "",
      "traceback": ""
    },
    "test_prometheus_rules.py": {
      "status": "FAIL",
      "duration": 0.15173768997192383,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n============================ no tests ran in 0.05s =============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/conftest.py": {
      "status": "FAIL",
      "duration": 0.28963398933410645,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n============================ no tests ran in 0.01s =============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_anthropic.py": {
      "status": "PASS",
      "duration": 0.48447704315185547,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_anthropic.py .                                                [100%]\n\n============================= slowest 25 durations =============================\n0.01s call     tests/test_anthropic.py::test_anthropic_client_constructs\n\n(2 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 0.27s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_api_job_status.py": {
      "status": "FAIL",
      "duration": 12.276889085769653,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_api_job_status.py F                                           [100%]\n\n=================================== FAILURES ===================================\n______________________ test_job_status_includes_dag_hash _______________________\n  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 341, in from_call\n    |     result: TResult | None = func()\n    |                              ~~~~^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 242, in <lambda>\n    |     lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n    |             ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    |     raise exception\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/threadexception.py\", line 92, in pytest_runtest_call\n    |     yield from thread_exception_runtest_hook()\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/threadexception.py\", line 68, in thread_exception_runtest_hook\n    |     yield\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/unraisableexception.py\", line 95, in pytest_runtest_call\n    |     yield from unraisable_exception_runtest_hook()\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/unraisableexception.py\", line 70, in unraisable_exception_runtest_hook\n    |     yield\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/logging.py\", line 846, in pytest_runtest_call\n    |     yield from self._runtest_for(item, \"call\")\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/logging.py\", line 829, in _runtest_for\n    |     yield\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/capture.py\", line 880, in pytest_runtest_call\n    |     return (yield)\n    |             ^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/skipping.py\", line 257, in pytest_runtest_call\n    |     return (yield)\n    |             ^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    |     res = hook_impl.function(*args)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 174, in pytest_runtest_call\n    |     item.runtest()\n    |     ~~~~~~~~~~~~^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 1627, in runtest\n    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    |     raise exception\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    |     res = hook_impl.function(*args)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 159, in pytest_pyfunc_call\n    |     result = testfunction(**testargs)\n    |   File \"/Users/baileymahoney/AgentForge/tests/test_api_job_status.py\", line 8, in test_job_status_includes_dag_hash\n    |     r = client.post(\"/job/sync\", json=payload)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/testclient.py\", line 597, in post\n    |     return super().post(\n    |            ~~~~~~~~~~~~^\n    |         url,\n    |         ^^^^\n    |     ...<10 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 1157, in post\n    |     return self.request(\n    |            ~~~~~~~~~~~~^\n    |         \"POST\",\n    |         ^^^^^^^\n    |     ...<11 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/testclient.py\", line 488, in request\n    |     return super().request(\n    |            ~~~~~~~~~~~~~~~^\n    |         method,\n    |         ^^^^^^^\n    |     ...<11 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 837, in request\n    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)\n    |            ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 926, in send\n    |     response = self._send_handling_auth(\n    |         request,\n    |     ...<2 lines>...\n    |         history=[],\n    |     )\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 954, in _send_handling_auth\n    |     response = self._send_handling_redirects(\n    |         request,\n    |         follow_redirects=follow_redirects,\n    |         history=history,\n    |     )\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 991, in _send_handling_redirects\n    |     response = self._send_single_request(request)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 1027, in _send_single_request\n    |     response = transport.handle_request(request)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/testclient.py\", line 381, in handle_request\n    |     raise exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/testclient.py\", line 378, in handle_request\n    |     portal.call(self.app, scope, receive, send)\n    |     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/anyio/from_thread.py\", line 291, in call\n    |     return cast(T_Retval, self.start_task_soon(func, *args).result())\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py\", line 456, in result\n    |     return self.__get_result()\n    |            ~~~~~~~~~~~~~~~~~^^\n    |   File \"/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py\", line 401, in __get_result\n    |     raise self._exception\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/anyio/from_thread.py\", line 222, in _call_func\n    |     retval = await retval_or_awaitable\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/applications.py\", line 113, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 187, in __call__\n    |     raise exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/api/metrics.py\", line 272, in _latency_mw\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    |     raise exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    |     raise exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 569, in run_job_sync\n    |     out = _sync_execute(goal, req.agents, job_id)\n    |   File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 211, in _sync_execute\n    |     results = orch.run_goal_sync(goal)\n    |   File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 300, in run_goal_sync\n    |     out = execu.run(enriched, agents=self.num_agents)\n    |   File \"/Users/baileymahoney/AgentForge/swarm/planner.py\", line 109, in run\n    |     out = [w.run_step(step.capability, step.args) for w in workers]\n    |            ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/factory.py\", line 46, in run_step\n    |     result = cap.func(**args)\n    | TypeError: cap_fuse_and_persist_track() missing 2 required positional arguments: 'eo' and 'ir'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\ntests/test_api_job_status.py:8: in test_job_status_includes_dag_hash\n    r = client.post(\"/job/sync\", json=payload)\n.venv/lib/python3.13/site-packages/starlette/testclient.py:597: in post\n    return super().post(\n.venv/lib/python3.13/site-packages/httpx/_client.py:1157: in post\n    return self.request(\n.venv/lib/python3.13/site-packages/starlette/testclient.py:488: in request\n    return super().request(\n.venv/lib/python3.13/site-packages/httpx/_client.py:837: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n.venv/lib/python3.13/site-packages/httpx/_client.py:926: in send\n    response = self._send_handling_auth(\n.venv/lib/python3.13/site-packages/httpx/_client.py:954: in _send_handling_auth\n    response = self._send_handling_redirects(\n.venv/lib/python3.13/site-packages/httpx/_client.py:991: in _send_handling_redirects\n    response = self._send_single_request(request)\n.venv/lib/python3.13/site-packages/httpx/_client.py:1027: in _send_single_request\n    response = transport.handle_request(request)\n.venv/lib/python3.13/site-packages/starlette/testclient.py:381: in handle_request\n    raise exc\n.venv/lib/python3.13/site-packages/starlette/testclient.py:378: in handle_request\n    portal.call(self.app, scope, receive, send)\n.venv/lib/python3.13/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n.venv/lib/python3.13/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n.venv/lib/python3.13/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:187: in __call__\n    raise exc\n.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:165: in __call__\n    await self.app(scope, receive, _send)\n.venv/lib/python3.13/site-packages/starlette/middleware/base.py:185: in __call__\n    with collapse_excgroups():\n/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py:162: in __exit__\n    self.gen.throw(value)\n.venv/lib/python3.13/site-packages/starlette/_utils.py:83: in collapse_excgroups\n    raise exc\n.venv/lib/python3.13/site-packages/starlette/middleware/base.py:187: in __call__\n    response = await self.dispatch_func(request, call_next)\nswarm/api/metrics.py:272: in _latency_mw\n    response = await call_next(request)\n.venv/lib/python3.13/site-packages/starlette/middleware/base.py:163: in call_next\n    raise app_exc\n.venv/lib/python3.13/site-packages/starlette/middleware/base.py:149: in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py:62: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n.venv/lib/python3.13/site-packages/starlette/routing.py:715: in __call__\n    await self.middleware_stack(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/routing.py:735: in app\n    await route.handle(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/routing.py:288: in handle\n    await self.app(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/routing.py:76: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n.venv/lib/python3.13/site-packages/starlette/routing.py:73: in app\n    response = await f(request)\n.venv/lib/python3.13/site-packages/fastapi/routing.py:301: in app\n    raw_response = await run_endpoint_function(\n.venv/lib/python3.13/site-packages/fastapi/routing.py:212: in run_endpoint_function\n    return await dependant.call(**values)\nswarm/api/main.py:569: in run_job_sync\n    out = _sync_execute(goal, req.agents, job_id)\nswarm/api/main.py:211: in _sync_execute\n    results = orch.run_goal_sync(goal)\norchestrator.py:300: in run_goal_sync\n    out = execu.run(enriched, agents=self.num_agents)\nswarm/planner.py:109: in run\n    out = [w.run_step(step.capability, step.args) for w in workers]\nswarm/factory.py:46: in run_step\n    result = cap.func(**args)\nE   TypeError: cap_fuse_and_persist_track() missing 2 required positional arguments: 'eo' and 'ir'\n------------------------------ Captured log call -------------------------------\nWARNING  asyncio:base_events.py:2045 Executing <Task finished name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() done, defined at /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py:144> result=None created at /opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:410> took 0.242 seconds\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n.venv/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\ntests/test_api_job_status.py::test_job_status_includes_dag_hash\n  /Users/baileymahoney/AgentForge/orchestrator.py:120: RuntimeWarning: coroutine 'embed_async' was never awaited\n  Coroutine created at (most recent call last)\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n      await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n      await app(scope, receive, sender)\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n      response = await f(request)\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n      raw_response = await run_endpoint_function(\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n      return await dependant.call(**values)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 569, in run_job_sync\n      out = _sync_execute(goal, req.agents, job_id)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 211, in _sync_execute\n      results = orch.run_goal_sync(goal)\n    File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 298, in run_goal_sync\n      step.args = self._seed_args(scope, goal, step)\n    File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 105, in _seed_args\n      hits = vector_service.search(scope=scope, query=goal, top_k=5)\n    File \"/Users/baileymahoney/AgentForge/swarm/vector/service.py\", line 94, in search\n      qvec = loop.run_until_complete(embed_async([scrub(query)], dim=dim))[0]\n    pass\n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n\ntests/test_api_job_status.py::test_job_status_includes_dag_hash\n  /Users/baileymahoney/AgentForge/orchestrator.py:120: RuntimeWarning: coroutine 'embed_async' was never awaited\n  Coroutine created at (most recent call last)\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n      await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n      await app(scope, receive, sender)\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n      response = await f(request)\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n      raw_response = await run_endpoint_function(\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n      return await dependant.call(**values)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 569, in run_job_sync\n      out = _sync_execute(goal, req.agents, job_id)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 211, in _sync_execute\n      results = orch.run_goal_sync(goal)\n    File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 298, in run_goal_sync\n      step.args = self._seed_args(scope, goal, step)\n    File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 105, in _seed_args\n      hits = vector_service.search(scope=scope, query=goal, top_k=5)\n    File \"/Users/baileymahoney/AgentForge/swarm/vector/service.py\", line 90, in search\n      qvec = asyncio.get_event_loop().run_until_complete(embed_async([scrub(query)], dim=dim))[0]\n    pass\n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n\ntests/test_api_job_status.py::test_job_status_includes_dag_hash\n  /Users/baileymahoney/AgentForge/swarm/factory.py:40: RuntimeWarning: coroutine 'embed_async' was never awaited\n  Coroutine created at (most recent call last)\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n      response = await f(request)\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n      raw_response = await run_endpoint_function(\n    File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n      return await dependant.call(**values)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 569, in run_job_sync\n      out = _sync_execute(goal, req.agents, job_id)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 211, in _sync_execute\n      results = orch.run_goal_sync(goal)\n    File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 300, in run_goal_sync\n      out = execu.run(enriched, agents=self.num_agents)\n    File \"/Users/baileymahoney/AgentForge/swarm/planner.py\", line 109, in run\n      out = [w.run_step(step.capability, step.args) for w in workers]\n    File \"/Users/baileymahoney/AgentForge/swarm/factory.py\", line 49, in run_step\n      self._maybe_vector_upsert(key, result)\n    File \"/Users/baileymahoney/AgentForge/swarm/factory.py\", line 31, in _maybe_vector_upsert\n      vector_service.upsert(\n    File \"/Users/baileymahoney/AgentForge/swarm/vector/service.py\", line 81, in upsert\n      emb = asyncio.get_event_loop().run_until_complete(embed_async([content], dim=dim))[0]\n    pass\n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.25s call     tests/test_api_job_status.py::test_job_status_includes_dag_hash\n\n(2 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_api_job_status.py::test_job_status_includes_dag_hash - Type...\n======================= 1 failed, 22 warnings in 11.30s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_approval.py": {
      "status": "PASS",
      "duration": 11.802690982818604,
      "output": "============================= test session starts ==============================\ncollected 4 items\n\ntests/test_approval.py ....                                              [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n.venv/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.02s call     tests/test_approval.py::test_evidence_bundle_endpoint\n\n(11 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 4 passed, 19 warnings in 10.82s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_async_dispatch.py": {
      "status": "TIMEOUT",
      "duration": 100.04958891868591,
      "output": "",
      "error": "Test file timed out after 90 seconds",
      "traceback": ""
    },
    "tests/test_bearer_security.py": {
      "status": "TIMEOUT",
      "duration": 100.04398727416992,
      "output": "",
      "error": "Test file timed out after 90 seconds",
      "traceback": ""
    },
    "tests/test_canary_eval_latency_budget.py": {
      "status": "PASS",
      "duration": 11.644228219985962,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_canary_eval_latency_budget.py .                               [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n.venv/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.01s call     tests/test_canary_eval_latency_budget.py::test_canary_eval_latency_budget_violation\n\n(2 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 1 passed, 19 warnings in 10.64s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_canary_restoration.py": {
      "status": "PASS",
      "duration": 0.6179628372192383,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_canary_restoration.py .                                       [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n========================= 1 passed, 1 warning in 0.33s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_canary_router.py": {
      "status": "PASS",
      "duration": 0.5011038780212402,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_canary_router.py ..                                           [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n========================= 2 passed, 1 warning in 0.28s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_capabilities.py": {
      "status": "PASS",
      "duration": 6.658493757247925,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_capabilities.py .                                             [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n========================= 1 passed, 1 warning in 6.43s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_cost_accounting.py": {
      "status": "PASS",
      "duration": 0.25176095962524414,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_cost_accounting.py ..                                         [100%]\n\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.07s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_critic_healer.py": {
      "status": "FAIL",
      "duration": 11.845928192138672,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_critic_healer.py F                                            [100%]\n\n=================================== FAILURES ===================================\n________________ test_submit_with_critic_healer_promotes_canary ________________\n  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 341, in from_call\n    |     result: TResult | None = func()\n    |                              ~~~~^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 242, in <lambda>\n    |     lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n    |             ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    |     raise exception\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/threadexception.py\", line 92, in pytest_runtest_call\n    |     yield from thread_exception_runtest_hook()\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/threadexception.py\", line 68, in thread_exception_runtest_hook\n    |     yield\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/unraisableexception.py\", line 95, in pytest_runtest_call\n    |     yield from unraisable_exception_runtest_hook()\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/unraisableexception.py\", line 70, in unraisable_exception_runtest_hook\n    |     yield\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/logging.py\", line 846, in pytest_runtest_call\n    |     yield from self._runtest_for(item, \"call\")\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/logging.py\", line 829, in _runtest_for\n    |     yield\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/capture.py\", line 880, in pytest_runtest_call\n    |     return (yield)\n    |             ^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/skipping.py\", line 257, in pytest_runtest_call\n    |     return (yield)\n    |             ^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    |     res = hook_impl.function(*args)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/runner.py\", line 174, in pytest_runtest_call\n    |     item.runtest()\n    |     ~~~~~~~~~~~~^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 1627, in runtest\n    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    |     raise exception\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    |     res = hook_impl.function(*args)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py\", line 159, in pytest_pyfunc_call\n    |     result = testfunction(**testargs)\n    |   File \"/Users/baileymahoney/AgentForge/tests/test_critic_healer.py\", line 26, in test_submit_with_critic_healer_promotes_canary\n    |     r = client.post(\"/v1/jobs/submit_ch\", json=req)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/testclient.py\", line 597, in post\n    |     return super().post(\n    |            ~~~~~~~~~~~~^\n    |         url,\n    |         ^^^^\n    |     ...<10 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 1157, in post\n    |     return self.request(\n    |            ~~~~~~~~~~~~^\n    |         \"POST\",\n    |         ^^^^^^^\n    |     ...<11 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/testclient.py\", line 488, in request\n    |     return super().request(\n    |            ~~~~~~~~~~~~~~~^\n    |         method,\n    |         ^^^^^^^\n    |     ...<11 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 837, in request\n    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)\n    |            ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 926, in send\n    |     response = self._send_handling_auth(\n    |         request,\n    |     ...<2 lines>...\n    |         history=[],\n    |     )\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 954, in _send_handling_auth\n    |     response = self._send_handling_redirects(\n    |         request,\n    |         follow_redirects=follow_redirects,\n    |         history=history,\n    |     )\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 991, in _send_handling_redirects\n    |     response = self._send_single_request(request)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/httpx/_client.py\", line 1027, in _send_single_request\n    |     response = transport.handle_request(request)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/testclient.py\", line 381, in handle_request\n    |     raise exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/testclient.py\", line 378, in handle_request\n    |     portal.call(self.app, scope, receive, send)\n    |     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/anyio/from_thread.py\", line 291, in call\n    |     return cast(T_Retval, self.start_task_soon(func, *args).result())\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py\", line 456, in result\n    |     return self.__get_result()\n    |            ~~~~~~~~~~~~~~~~~^^\n    |   File \"/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py\", line 401, in __get_result\n    |     raise self._exception\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/anyio/from_thread.py\", line 222, in _call_func\n    |     retval = await retval_or_awaitable\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/applications.py\", line 113, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 187, in __call__\n    |     raise exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/api/metrics.py\", line 272, in _latency_mw\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    |     raise exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 62, in wrapped_app\n    |     raise exc\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 51, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 476, in submit_with_critic_healer\n    |     out = ch.run(goal=goal, total_agents=req.agents or 6)\n    |   File \"/Users/baileymahoney/AgentForge/swarm/critic_healer.py\", line 43, in run\n    |     base_results, base_decision = self._run(goal, base_n)\n    |                                   ~~~~~~~~~^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/critic_healer.py\", line 23, in _run\n    |     results = orch.run_goal_sync(goal)\n    |   File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 305, in run_goal_sync\n    |     out = execu.run(enriched, agents=self.num_agents)\n    |   File \"/Users/baileymahoney/AgentForge/swarm/planner.py\", line 113, in run\n    |     out = [w.run_step(step.capability, step.args) for w in workers]\n    |            ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/factory.py\", line 46, in run_step\n    |     result = cap.func(**args)\n    | TypeError: cap_bayesian_fusion() got an unexpected keyword argument 'context_snippets'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\ntests/test_critic_healer.py:26: in test_submit_with_critic_healer_promotes_canary\n    r = client.post(\"/v1/jobs/submit_ch\", json=req)\n.venv/lib/python3.13/site-packages/starlette/testclient.py:597: in post\n    return super().post(\n.venv/lib/python3.13/site-packages/httpx/_client.py:1157: in post\n    return self.request(\n.venv/lib/python3.13/site-packages/starlette/testclient.py:488: in request\n    return super().request(\n.venv/lib/python3.13/site-packages/httpx/_client.py:837: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n.venv/lib/python3.13/site-packages/httpx/_client.py:926: in send\n    response = self._send_handling_auth(\n.venv/lib/python3.13/site-packages/httpx/_client.py:954: in _send_handling_auth\n    response = self._send_handling_redirects(\n.venv/lib/python3.13/site-packages/httpx/_client.py:991: in _send_handling_redirects\n    response = self._send_single_request(request)\n.venv/lib/python3.13/site-packages/httpx/_client.py:1027: in _send_single_request\n    response = transport.handle_request(request)\n.venv/lib/python3.13/site-packages/starlette/testclient.py:381: in handle_request\n    raise exc\n.venv/lib/python3.13/site-packages/starlette/testclient.py:378: in handle_request\n    portal.call(self.app, scope, receive, send)\n.venv/lib/python3.13/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n.venv/lib/python3.13/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n.venv/lib/python3.13/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:187: in __call__\n    raise exc\n.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:165: in __call__\n    await self.app(scope, receive, _send)\n.venv/lib/python3.13/site-packages/starlette/middleware/base.py:185: in __call__\n    with collapse_excgroups():\n/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py:162: in __exit__\n    self.gen.throw(value)\n.venv/lib/python3.13/site-packages/starlette/_utils.py:83: in collapse_excgroups\n    raise exc\n.venv/lib/python3.13/site-packages/starlette/middleware/base.py:187: in __call__\n    response = await self.dispatch_func(request, call_next)\nswarm/api/metrics.py:272: in _latency_mw\n    response = await call_next(request)\n.venv/lib/python3.13/site-packages/starlette/middleware/base.py:163: in call_next\n    raise app_exc\n.venv/lib/python3.13/site-packages/starlette/middleware/base.py:149: in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py:62: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n.venv/lib/python3.13/site-packages/starlette/routing.py:715: in __call__\n    await self.middleware_stack(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/routing.py:735: in app\n    await route.handle(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/routing.py:288: in handle\n    await self.app(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/routing.py:76: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n.venv/lib/python3.13/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n.venv/lib/python3.13/site-packages/starlette/routing.py:73: in app\n    response = await f(request)\n.venv/lib/python3.13/site-packages/fastapi/routing.py:301: in app\n    raw_response = await run_endpoint_function(\n.venv/lib/python3.13/site-packages/fastapi/routing.py:214: in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n.venv/lib/python3.13/site-packages/starlette/concurrency.py:39: in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n.venv/lib/python3.13/site-packages/anyio/to_thread.py:56: in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py:2476: in run_sync_in_worker_thread\n    return await future\n.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py:967: in run\n    result = context.run(func, *args)\nswarm/api/main.py:476: in submit_with_critic_healer\n    out = ch.run(goal=goal, total_agents=req.agents or 6)\nswarm/critic_healer.py:43: in run\n    base_results, base_decision = self._run(goal, base_n)\nswarm/critic_healer.py:23: in _run\n    results = orch.run_goal_sync(goal)\norchestrator.py:305: in run_goal_sync\n    out = execu.run(enriched, agents=self.num_agents)\nswarm/planner.py:113: in run\n    out = [w.run_step(step.capability, step.args) for w in workers]\nswarm/factory.py:46: in run_step\n    result = cap.func(**args)\nE   TypeError: cap_bayesian_fusion() got an unexpected keyword argument 'context_snippets'\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n.venv/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.25s call     tests/test_critic_healer.py::test_submit_with_critic_healer_promotes_canary\n\n(2 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_critic_healer.py::test_submit_with_critic_healer_promotes_canary\n======================= 1 failed, 19 warnings in 10.93s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_drift.py": {
      "status": "PASS",
      "duration": 0.4303092956542969,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntests/test_drift.py ...                                                  [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(9 durations < 0.005s hidden.  Use -vv to show these durations.)\n========================= 3 passed, 1 warning in 0.18s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_e2e_policy.py": {
      "status": "PASS",
      "duration": 11.341421127319336,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_e2e_policy.py ..                                              [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n.venv/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.03s call     tests/test_e2e_policy.py::test_upload_and_submit_approved\n0.01s call     tests/test_e2e_policy.py::test_submit_rejected_when_errors\n\n(4 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 2 passed, 19 warnings in 10.40s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_edge_disconnect_reconnect.py": {
      "status": "PASS",
      "duration": 0.22681212425231934,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_edge_disconnect_reconnect.py s                                [100%]\n\n=============================== warnings summary ===============================\ntests/test_edge_disconnect_reconnect.py::test_replay_queue_depth_depletes\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py:148: PytestUnhandledCoroutineWarning: async def functions are not natively supported and have been skipped.\n  You need to install a suitable plugin for your async framework, for example:\n    - anyio\n    - pytest-asyncio\n    - pytest-tornasync\n    - pytest-trio\n    - pytest-twisted\n    warnings.warn(PytestUnhandledCoroutineWarning(msg.format(nodeid)))\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nSKIPPED [1] .venv/lib/python3.13/site-packages/_pytest/python.py:149: async def function and no async plugin installed (see warnings)\n======================== 1 skipped, 1 warning in 0.01s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_edge_store_forward.py": {
      "status": "PASS",
      "duration": 0.20096778869628906,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_edge_store_forward.py ss                                      [100%]\n\n=============================== warnings summary ===============================\ntests/test_edge_store_forward.py::test_persistence_and_replay_without_duplication\ntests/test_edge_store_forward.py::test_edge_link_status_metric_and_gauge_toggle\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py:148: PytestUnhandledCoroutineWarning: async def functions are not natively supported and have been skipped.\n  You need to install a suitable plugin for your async framework, for example:\n    - anyio\n    - pytest-asyncio\n    - pytest-tornasync\n    - pytest-trio\n    - pytest-twisted\n    warnings.warn(PytestUnhandledCoroutineWarning(msg.format(nodeid)))\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nSKIPPED [2] .venv/lib/python3.13/site-packages/_pytest/python.py:149: async def function and no async plugin installed (see warnings)\n======================== 2 skipped, 2 warnings in 0.01s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_evidence_bundle.py": {
      "status": "PASS",
      "duration": 11.224385023117065,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntests/test_evidence_bundle.py ...                                        [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n.venv/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.02s call     tests/test_evidence_bundle.py::test_evidence_bundle_not_found\n0.01s call     tests/test_evidence_bundle.py::test_evidence_bundle_with_persisted_dag\n0.01s call     tests/test_evidence_bundle.py::test_evidence_bundle_reproducibility_flags\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 3 passed, 19 warnings in 10.33s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_fusion_latency_budget.py": {
      "status": "PASS",
      "duration": 11.826904058456421,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_fusion_latency_budget.py .                                    [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n.venv/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\ntests/test_fusion_latency_budget.py::test_fusion_latency_budget_violation\n  /Users/baileymahoney/AgentForge/swarm/storage.py:190: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"created_at\": _dt.datetime.utcnow().isoformat() + \"Z\",\n\ntests/test_fusion_latency_budget.py::test_fusion_latency_budget_violation\n  /Users/baileymahoney/AgentForge/swarm/storage.py:166: DeprecationWarning: There is no current event loop\n    loop = asyncio.get_event_loop()\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.38s call     tests/test_fusion_latency_budget.py::test_fusion_latency_budget_violation\n\n(2 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 1 passed, 21 warnings in 10.85s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_fusion_pipeline.py": {
      "status": "PASS",
      "duration": 12.096263885498047,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_fusion_pipeline.py ..                                         [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n.venv/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\ntests/test_fusion_pipeline.py::test_fuse_calibrate_persist_track\n  /Users/baileymahoney/AgentForge/swarm/storage.py:190: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"created_at\": _dt.datetime.utcnow().isoformat() + \"Z\",\n\ntests/test_fusion_pipeline.py::test_fuse_calibrate_persist_track\n  /Users/baileymahoney/AgentForge/swarm/storage.py:166: DeprecationWarning: There is no current event loop\n    loop = asyncio.get_event_loop()\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.38s call     tests/test_fusion_pipeline.py::test_fuse_calibrate_persist_track\n\n(5 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 2 passed, 21 warnings in 11.07s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_fusion_roc_det.py": {
      "status": "PASS",
      "duration": 0.4557769298553467,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_fusion_roc_det.py .                                           [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n========================= 1 passed, 1 warning in 0.22s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_geojson_schema.py": {
      "status": "PASS",
      "duration": 0.23005390167236328,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_geojson_schema.py ..                                          [100%]\n\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.06s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_hf.py": {
      "status": "PASS",
      "duration": 0.5152649879455566,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_hf.py .                                                       [100%]\n\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 0.32s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_imports.py": {
      "status": "PASS",
      "duration": 11.293787002563477,
      "output": "============================= test session starts ==============================\ncollected 5 items\n\ntests/test_imports.py .....                                              [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.15s call     tests/test_imports.py::test_no_circular_imports\n0.02s call     tests/test_imports.py::test_router_imports\n\n(13 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 5 passed, 17 warnings in 10.42s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_memory.py": {
      "status": "PASS",
      "duration": 2.5168392658233643,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_memory.py ..                                                  [100%]\n\n============================= slowest 25 durations =============================\n0.01s call     tests/test_memory.py::test_semantic_search_min_score\n\n(5 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 1.98s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_memory_mesh.py": {
      "status": "PASS",
      "duration": 0.3711550235748291,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_memory_mesh.py ..                                             [100%]\n\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.19s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_memory_store.py": {
      "status": "PASS",
      "duration": 0.282620906829834,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_memory_store.py s                                             [100%]\n\n=============================== warnings summary ===============================\ntests/test_memory_store.py::test_upsert_and_search\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py:148: PytestUnhandledCoroutineWarning: async def functions are not natively supported and have been skipped.\n  You need to install a suitable plugin for your async framework, for example:\n    - anyio\n    - pytest-asyncio\n    - pytest-tornasync\n    - pytest-trio\n    - pytest-twisted\n    warnings.warn(PytestUnhandledCoroutineWarning(msg.format(nodeid)))\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nSKIPPED [1] .venv/lib/python3.13/site-packages/_pytest/python.py:149: async def function and no async plugin installed (see warnings)\n======================== 1 skipped, 1 warning in 0.09s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_metrics.py": {
      "status": "PASS",
      "duration": 11.510203838348389,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_metrics.py ..                                                 [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n.venv/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.01s call     tests/test_metrics.py::test_metrics_endpoint\n\n(5 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 2 passed, 19 warnings in 10.62s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_observability_context.py": {
      "status": "PASS",
      "duration": 11.764218807220459,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntests/test_observability_context.py ...                                  [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n.venv/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.01s call     tests/test_observability_context.py::test_cost_metrics_with_context\n\n(8 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 3 passed, 19 warnings in 10.88s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_planner.py": {
      "status": "PASS",
      "duration": 6.8152360916137695,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntests/test_planner.py ...                                                [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.01s call     tests/test_planner.py::test_dag_determinism_and_persistence\n\n(8 durations < 0.005s hidden.  Use -vv to show these durations.)\n========================= 3 passed, 1 warning in 6.53s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_results_sink.py": {
      "status": "PASS",
      "duration": 0.2708108425140381,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_results_sink.py s                                             [100%]\n\n=============================== warnings summary ===============================\ntests/test_results_sink.py::test_results_sink_jsonl_fallback\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py:148: PytestUnhandledCoroutineWarning: async def functions are not natively supported and have been skipped.\n  You need to install a suitable plugin for your async framework, for example:\n    - anyio\n    - pytest-asyncio\n    - pytest-tornasync\n    - pytest-trio\n    - pytest-twisted\n    warnings.warn(PytestUnhandledCoroutineWarning(msg.format(nodeid)))\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nSKIPPED [1] .venv/lib/python3.13/site-packages/_pytest/python.py:149: async def function and no async plugin installed (see warnings)\n======================== 1 skipped, 1 warning in 0.01s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_reviewer.py": {
      "status": "PASS",
      "duration": 0.5615670680999756,
      "output": "============================= test session starts ==============================\ncollected 4 items\n\ntests/test_reviewer.py ....                                              [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.01s call     tests/test_reviewer.py::test_adjudication_persists_feedback\n\n(11 durations < 0.005s hidden.  Use -vv to show these durations.)\n========================= 4 passed, 1 warning in 0.34s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_router.py": {
      "status": "PASS",
      "duration": 11.809254884719849,
      "output": "============================= test session starts ==============================\ncollected 5 items\n\ntests/test_router.py .....                                               [100%]\n\n=============================== warnings summary ===============================\n.venv/lib/python3.13/site-packages/starlette/formparsers.py:12\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/starlette/formparsers.py:12: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.17s call     tests/test_router.py::test_no_circular_imports\n\n(14 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 5 passed, 17 warnings in 10.91s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_span_attributes.py": {
      "status": "PASS",
      "duration": 0.2725389003753662,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_span_attributes.py ..                                         [100%]\n\n============================= slowest 25 durations =============================\n0.01s call     tests/test_span_attributes.py::test_span_tagging_mission_task\n\n(5 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.04s ===============================\n",
      "error": "Exception ignored in atexit callback <bound method TracerProvider.shutdown of <opentelemetry.sdk.trace.TracerProvider object at 0x104f30c20>>:\nTraceback (most recent call last):\n  File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/opentelemetry/sdk/trace/__init__.py\", line 1281, in shutdown\n    self._active_span_processor.shutdown()\n  File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/opentelemetry/sdk/trace/__init__.py\", line 180, in shutdown\n    sp.shutdown()\n  File \"/Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/opentelemetry/sdk/trace/export/__init__.py\", line 116, in shutdown\n    self.span_exporter.shutdown()\nAttributeError: 'InMemorySpanExporter' object has no attribute 'shutdown'\n",
      "traceback": ""
    },
    "tests/test_sse_ws_security.py": {
      "status": "TIMEOUT",
      "duration": 100.03632712364197,
      "output": "",
      "error": "Test file timed out after 90 seconds",
      "traceback": ""
    },
    "tests/test_sse_ws_stream.py": {
      "status": "TIMEOUT",
      "duration": 100.05067706108093,
      "output": "",
      "error": "Test file timed out after 90 seconds",
      "traceback": ""
    },
    "tests/test_tool_executor_dlq.py": {
      "status": "PASS",
      "duration": 0.2587909698486328,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_tool_executor_dlq.py s                                        [100%]\n\n=============================== warnings summary ===============================\ntests/test_tool_executor_dlq.py::test_dlq_on_non_retryable_failure\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py:148: PytestUnhandledCoroutineWarning: async def functions are not natively supported and have been skipped.\n  You need to install a suitable plugin for your async framework, for example:\n    - anyio\n    - pytest-asyncio\n    - pytest-tornasync\n    - pytest-trio\n    - pytest-twisted\n    warnings.warn(PytestUnhandledCoroutineWarning(msg.format(nodeid)))\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nSKIPPED [1] .venv/lib/python3.13/site-packages/_pytest/python.py:149: async def function and no async plugin installed (see warnings)\n======================== 1 skipped, 1 warning in 0.01s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_tool_executor_idempotency.py": {
      "status": "PASS",
      "duration": 0.39049291610717773,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_tool_executor_idempotency.py ..                               [100%]\n\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.21s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_tool_executor_operation_key.py": {
      "status": "PASS",
      "duration": 0.22146320343017578,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_tool_executor_operation_key.py s                              [100%]\n\n=============================== warnings summary ===============================\ntests/test_tool_executor_operation_key.py::test_operation_key_idempotent_replay\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py:148: PytestUnhandledCoroutineWarning: async def functions are not natively supported and have been skipped.\n  You need to install a suitable plugin for your async framework, for example:\n    - anyio\n    - pytest-asyncio\n    - pytest-tornasync\n    - pytest-trio\n    - pytest-twisted\n    warnings.warn(PytestUnhandledCoroutineWarning(msg.format(nodeid)))\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nSKIPPED [1] .venv/lib/python3.13/site-packages/_pytest/python.py:149: async def function and no async plugin installed (see warnings)\n======================== 1 skipped, 1 warning in 0.01s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_tool_executor_retry.py": {
      "status": "PASS",
      "duration": 0.18264102935791016,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_tool_executor_retry.py s                                      [100%]\n\n=============================== warnings summary ===============================\ntests/test_tool_executor_retry.py::test_retry_and_idempotency\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py:148: PytestUnhandledCoroutineWarning: async def functions are not natively supported and have been skipped.\n  You need to install a suitable plugin for your async framework, for example:\n    - anyio\n    - pytest-asyncio\n    - pytest-tornasync\n    - pytest-trio\n    - pytest-twisted\n    warnings.warn(PytestUnhandledCoroutineWarning(msg.format(nodeid)))\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nSKIPPED [1] .venv/lib/python3.13/site-packages/_pytest/python.py:149: async def function and no async plugin installed (see warnings)\n======================== 1 skipped, 1 warning in 0.01s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_tool_executor_retry_deterministic.py": {
      "status": "PASS",
      "duration": 0.18245697021484375,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_tool_executor_retry_deterministic.py s                        [100%]\n\n=============================== warnings summary ===============================\ntests/test_tool_executor_retry_deterministic.py::test_deterministic_retry_flow\n  /Users/baileymahoney/AgentForge/.venv/lib/python3.13/site-packages/_pytest/python.py:148: PytestUnhandledCoroutineWarning: async def functions are not natively supported and have been skipped.\n  You need to install a suitable plugin for your async framework, for example:\n    - anyio\n    - pytest-asyncio\n    - pytest-tornasync\n    - pytest-trio\n    - pytest-twisted\n    warnings.warn(PytestUnhandledCoroutineWarning(msg.format(nodeid)))\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nSKIPPED [1] .venv/lib/python3.13/site-packages/_pytest/python.py:149: async def function and no async plugin installed (see warnings)\n======================== 1 skipped, 1 warning in 0.01s =========================\n",
      "error": "",
      "traceback": ""
    }
  }
}