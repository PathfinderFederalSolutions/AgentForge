{
  "timestamp": 1757643096,
  "summary": {
    "total": 50,
    "passed": 27,
    "failed": 19,
    "timeouts": 4,
    "skipped": 0,
    "duration": 581.4908380508423,
    "integration_enabled": false
  },
  "results": {
    "local_drain_test.py": {
      "status": "FAIL",
      "duration": 0.2851541042327881,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n============================ no tests ran in 0.12s =============================\n",
      "error": "",
      "traceback": ""
    },
    "quick_test.py": {
      "status": "PASS",
      "duration": 0.10977792739868164,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\nquick_test.py .                                                          [100%]\n\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 0.01s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "scripts/run_unstaller_tests.py": {
      "status": "FAIL",
      "duration": 0.12778711318969727,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n=============================== warnings summary ===============================\nscripts/run_unstaller_tests.py:22\n  /Users/baileymahoney/AgentForge/scripts/run_unstaller_tests.py:22: PytestCollectionWarning: cannot collect test class 'TestResult' because it has a __init__ constructor (from: scripts/run_unstaller_tests.py)\n    class TestResult:\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================== 1 warning in 0.02s ==============================\n",
      "error": "",
      "traceback": ""
    },
    "simple_test.py": {
      "status": "PASS",
      "duration": 0.11118173599243164,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\nsimple_test.py .                                                         [100%]\n\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 0.01s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "test_alert_scenarios.py": {
      "status": "FAIL",
      "duration": 0.2143418788909912,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n============================ no tests ran in 0.09s =============================\n",
      "error": "",
      "traceback": ""
    },
    "test_isolated/test_minimal.py": {
      "status": "FAIL",
      "duration": 1.2569129467010498,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntest_isolated/test_minimal.py ..F                                        [100%]\n\n=================================== FAILURES ===================================\n__________________________________ test_fails __________________________________\ntest_isolated/test_minimal.py:18: in test_fails\n    assert False, \"This test intentionally fails\"\nE   AssertionError: This test intentionally fails\nE   assert False\n=========================== short test summary info ============================\nFAILED test_isolated/test_minimal.py::test_fails - AssertionError: This test ...\n========================= 1 failed, 2 passed in 1.03s ==========================\n",
      "error": "",
      "traceback": ""
    },
    "test_jetstream_metrics.py": {
      "status": "FAIL",
      "duration": 0.21895313262939453,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntest_jetstream_metrics.py F                                              [100%]\n\n=================================== FAILURES ===================================\n__________________________ test_jetstream_operations ___________________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED test_jetstream_metrics.py::test_jetstream_operations - Failed: async d...\n============================== 1 failed in 0.09s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "test_minimal.py": {
      "status": "FAIL",
      "duration": 1.1731340885162354,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntest_minimal.py ..F                                                      [100%]\n\n=================================== FAILURES ===================================\n__________________________________ test_fails __________________________________\ntest_minimal.py:18: in test_fails\n    assert False, \"This test intentionally fails\"\nE   AssertionError: This test intentionally fails\nE   assert False\n============================= slowest 25 durations =============================\n1.00s call     test_minimal.py::test_slow_pass\n\n(8 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED test_minimal.py::test_fails - AssertionError: This test intentionally ...\n========================= 1 failed, 2 passed in 1.03s ==========================\n",
      "error": "",
      "traceback": ""
    },
    "test_nats_connectivity.py": {
      "status": "FAIL",
      "duration": 0.1925830841064453,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n============================ no tests ran in 0.07s =============================\n",
      "error": "",
      "traceback": ""
    },
    "test_prometheus_rules.py": {
      "status": "FAIL",
      "duration": 0.18018484115600586,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n============================ no tests ran in 0.05s =============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/conftest.py": {
      "status": "FAIL",
      "duration": 0.27074098587036133,
      "output": "============================= test session starts ==============================\ncollected 0 items\n\n============================ no tests ran in 0.01s =============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_anthropic.py": {
      "status": "PASS",
      "duration": 0.6988909244537354,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_anthropic.py .                                                [100%]\n\n============================= slowest 25 durations =============================\n0.03s call     tests/test_anthropic.py::test_anthropic_client_constructs\n\n(2 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 0.32s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_api_job_status.py": {
      "status": "FAIL",
      "duration": 13.063973903656006,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_api_job_status.py F                                           [100%]\n\n=================================== FAILURES ===================================\n______________________ test_job_status_includes_dag_hash _______________________\n  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_utils.py\", line 79, in collapse_excgroups\n  |     yield\n  |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    |     result: TResult | None = func()\n    |                              ~~~~^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    |     lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n    |             ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    |     raise exception\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/logging.py\", line 850, in pytest_runtest_call\n    |     yield\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/capture.py\", line 900, in pytest_runtest_call\n    |     return (yield)\n    |             ^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/skipping.py\", line 263, in pytest_runtest_call\n    |     return (yield)\n    |             ^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    |     res = hook_impl.function(*args)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    |     item.runtest()\n    |     ~~~~~~~~~~~~^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    |     raise exception\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    |     res = hook_impl.function(*args)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    |     result = testfunction(**testargs)\n    |   File \"/Users/baileymahoney/AgentForge/tests/test_api_job_status.py\", line 8, in test_job_status_includes_dag_hash\n    |     r = client.post(\"/job/sync\", json=payload)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 552, in post\n    |     return super().post(\n    |            ~~~~~~~~~~~~^\n    |         url,\n    |         ^^^^\n    |     ...<10 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 1144, in post\n    |     return self.request(\n    |            ~~~~~~~~~~~~^\n    |         \"POST\",\n    |         ^^^^^^^\n    |     ...<11 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 451, in request\n    |     return super().request(\n    |            ~~~~~~~~~~~~~~~^\n    |         method,\n    |         ^^^^^^^\n    |     ...<11 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 825, in request\n    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)\n    |            ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 914, in send\n    |     response = self._send_handling_auth(\n    |         request,\n    |     ...<2 lines>...\n    |         history=[],\n    |     )\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 942, in _send_handling_auth\n    |     response = self._send_handling_redirects(\n    |         request,\n    |         follow_redirects=follow_redirects,\n    |         history=history,\n    |     )\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 979, in _send_handling_redirects\n    |     response = self._send_single_request(request)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 1014, in _send_single_request\n    |     response = transport.handle_request(request)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 354, in handle_request\n    |     raise exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 351, in handle_request\n    |     portal.call(self.app, scope, receive, send)\n    |     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py\", line 291, in call\n    |     return cast(T_Retval, self.start_task_soon(func, *args).result())\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py\", line 456, in result\n    |     return self.__get_result()\n    |            ~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py\", line 401, in __get_result\n    |     raise self._exception\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py\", line 222, in _call_func\n    |     retval = await retval_or_awaitable\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/applications.py\", line 113, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 186, in __call__\n    |     raise exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/api/metrics.py\", line 272, in _latency_mw\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 569, in run_job_sync\n    |     out = _sync_execute(goal, req.agents, job_id)\n    |   File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 211, in _sync_execute\n    |     results = orch.run_goal_sync(goal)\n    |   File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 300, in run_goal_sync\n    |     out = execu.run(enriched, agents=self.num_agents)\n    |   File \"/Users/baileymahoney/AgentForge/swarm/planner.py\", line 109, in run\n    |     out = [w.run_step(step.capability, step.args) for w in workers]\n    |            ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/factory.py\", line 46, in run_step\n    |     result = cap.func(**args)\n    | TypeError: cap_fuse_and_persist_track() missing 2 required positional arguments: 'eo' and 'ir'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/baileymahoney/AgentForge/tests/test_api_job_status.py\", line 8, in test_job_status_includes_dag_hash\n    r = client.post(\"/job/sync\", json=payload)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 552, in post\n    return super().post(\n           ~~~~~~~~~~~~^\n        url,\n        ^^^^\n    ...<10 lines>...\n        extensions=extensions,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 1144, in post\n    return self.request(\n           ~~~~~~~~~~~~^\n        \"POST\",\n        ^^^^^^^\n    ...<11 lines>...\n        extensions=extensions,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 451, in request\n    return super().request(\n           ~~~~~~~~~~~~~~~^\n        method,\n        ^^^^^^^\n    ...<11 lines>...\n        extensions=extensions,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 825, in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 914, in send\n    response = self._send_handling_auth(\n        request,\n    ...<2 lines>...\n        history=[],\n    )\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 942, in _send_handling_auth\n    response = self._send_handling_redirects(\n        request,\n        follow_redirects=follow_redirects,\n        history=history,\n    )\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 979, in _send_handling_redirects\n    response = self._send_single_request(request)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 1014, in _send_single_request\n    response = transport.handle_request(request)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 354, in handle_request\n    raise exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 351, in handle_request\n    portal.call(self.app, scope, receive, send)\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py\", line 291, in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py\", line 456, in result\n    return self.__get_result()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py\", line 222, in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/applications.py\", line 113, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 186, in __call__\n    raise exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/AgentForge/swarm/api/metrics.py\", line 272, in _latency_mw\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 569, in run_job_sync\n    out = _sync_execute(goal, req.agents, job_id)\n  File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 211, in _sync_execute\n    results = orch.run_goal_sync(goal)\n  File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 300, in run_goal_sync\n    out = execu.run(enriched, agents=self.num_agents)\n  File \"/Users/baileymahoney/AgentForge/swarm/planner.py\", line 109, in run\n    out = [w.run_step(step.capability, step.args) for w in workers]\n           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/AgentForge/swarm/factory.py\", line 46, in run_step\n    result = cap.func(**args)\nTypeError: cap_fuse_and_persist_track() missing 2 required positional arguments: 'eo' and 'ir'\n\nDuring handling of the above exception, another exception occurred:\ntests/test_api_job_status.py:8: in test_job_status_includes_dag_hash\n    r = client.post(\"/job/sync\", json=payload)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py:552: in post\n    return super().post(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:1144: in post\n    return self.request(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py:451: in request\n    return super().request(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py:354: in handle_request\n    raise exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py:351: in handle_request\n    portal.call(self.app, scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py:186: in __call__\n    raise exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py:164: in __call__\n    await self.app(scope, receive, _send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py:182: in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/contextlib.py:162: in __exit__\n    self.gen.throw(value)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_utils.py:85: in collapse_excgroups\n    raise exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py:184: in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nswarm/api/metrics.py:272: in _latency_mw\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py:159: in call_next\n    raise app_exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py:144: in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/exceptions.py:63: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py:716: in __call__\n    await self.middleware_stack(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py:736: in app\n    await route.handle(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py:290: in handle\n    await self.app(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py:78: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py:75: in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py:302: in app\n    raw_response = await run_endpoint_function(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py:213: in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nswarm/api/main.py:569: in run_job_sync\n    out = _sync_execute(goal, req.agents, job_id)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nswarm/api/main.py:211: in _sync_execute\n    results = orch.run_goal_sync(goal)\n              ^^^^^^^^^^^^^^^^^^^^^^^^\norchestrator.py:300: in run_goal_sync\n    out = execu.run(enriched, agents=self.num_agents)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nswarm/planner.py:109: in run\n    out = [w.run_step(step.capability, step.args) for w in workers]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nswarm/factory.py:46: in run_step\n    result = cap.func(**args)\n             ^^^^^^^^^^^^^^^^\nE   TypeError: cap_fuse_and_persist_track() missing 2 required positional arguments: 'eo' and 'ir'\n------------------------------ Captured log call -------------------------------\nWARNING  asyncio:base_events.py:2022 Executing <Task finished name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() done, defined at /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py:139> result=None created at /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/asyncio/tasks.py:410> took 0.275 seconds\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\ntests/test_api_job_status.py::test_job_status_includes_dag_hash\n  /Users/baileymahoney/AgentForge/orchestrator.py:120: RuntimeWarning: coroutine 'embed_async' was never awaited\n  Coroutine created at (most recent call last)\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n      await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n      await app(scope, receive, sender)\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n      response = await f(request)\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n      raw_response = await run_endpoint_function(\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n      return await dependant.call(**values)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 569, in run_job_sync\n      out = _sync_execute(goal, req.agents, job_id)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 211, in _sync_execute\n      results = orch.run_goal_sync(goal)\n    File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 298, in run_goal_sync\n      step.args = self._seed_args(scope, goal, step)\n    File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 105, in _seed_args\n      hits = vector_service.search(scope=scope, query=goal, top_k=5)\n    File \"/Users/baileymahoney/AgentForge/swarm/vector/service.py\", line 94, in search\n      qvec = loop.run_until_complete(embed_async([scrub(query)], dim=dim))[0]\n    pass\n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n\ntests/test_api_job_status.py::test_job_status_includes_dag_hash\n  /Users/baileymahoney/AgentForge/orchestrator.py:120: RuntimeWarning: coroutine 'embed_async' was never awaited\n  Coroutine created at (most recent call last)\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n      await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n      await app(scope, receive, sender)\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n      response = await f(request)\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n      raw_response = await run_endpoint_function(\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n      return await dependant.call(**values)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 569, in run_job_sync\n      out = _sync_execute(goal, req.agents, job_id)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 211, in _sync_execute\n      results = orch.run_goal_sync(goal)\n    File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 298, in run_goal_sync\n      step.args = self._seed_args(scope, goal, step)\n    File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 105, in _seed_args\n      hits = vector_service.search(scope=scope, query=goal, top_k=5)\n    File \"/Users/baileymahoney/AgentForge/swarm/vector/service.py\", line 90, in search\n      qvec = asyncio.get_event_loop().run_until_complete(embed_async([scrub(query)], dim=dim))[0]\n    pass\n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n\ntests/test_api_job_status.py::test_job_status_includes_dag_hash\n  /Users/baileymahoney/AgentForge/swarm/factory.py:40: RuntimeWarning: coroutine 'embed_async' was never awaited\n  Coroutine created at (most recent call last)\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n      response = await f(request)\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n      raw_response = await run_endpoint_function(\n    File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n      return await dependant.call(**values)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 569, in run_job_sync\n      out = _sync_execute(goal, req.agents, job_id)\n    File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 211, in _sync_execute\n      results = orch.run_goal_sync(goal)\n    File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 300, in run_goal_sync\n      out = execu.run(enriched, agents=self.num_agents)\n    File \"/Users/baileymahoney/AgentForge/swarm/planner.py\", line 109, in run\n      out = [w.run_step(step.capability, step.args) for w in workers]\n    File \"/Users/baileymahoney/AgentForge/swarm/factory.py\", line 49, in run_step\n      self._maybe_vector_upsert(key, result)\n    File \"/Users/baileymahoney/AgentForge/swarm/factory.py\", line 31, in _maybe_vector_upsert\n      vector_service.upsert(\n    File \"/Users/baileymahoney/AgentForge/swarm/vector/service.py\", line 81, in upsert\n      emb = asyncio.get_event_loop().run_until_complete(embed_async([content], dim=dim))[0]\n    pass\n  Enable tracemalloc to get traceback where the object was allocated.\n  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.29s call     tests/test_api_job_status.py::test_job_status_includes_dag_hash\n\n(2 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_api_job_status.py::test_job_status_includes_dag_hash - Type...\n======================= 1 failed, 23 warnings in 11.37s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_approval.py": {
      "status": "PASS",
      "duration": 12.11106014251709,
      "output": "============================= test session starts ==============================\ncollected 4 items\n\ntests/test_approval.py ....                                              [100%]\n\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.02s call     tests/test_approval.py::test_evidence_bundle_endpoint\n\n(11 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 4 passed, 20 warnings in 10.49s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_async_dispatch.py": {
      "status": "TIMEOUT",
      "duration": 100.04361295700073,
      "output": "",
      "error": "Test file timed out after 90 seconds",
      "traceback": ""
    },
    "tests/test_bearer_security.py": {
      "status": "TIMEOUT",
      "duration": 100.04739880561829,
      "output": "",
      "error": "Test file timed out after 90 seconds",
      "traceback": ""
    },
    "tests/test_canary_eval_latency_budget.py": {
      "status": "PASS",
      "duration": 12.408382892608643,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_canary_eval_latency_budget.py .                               [100%]\n\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.01s call     tests/test_canary_eval_latency_budget.py::test_canary_eval_latency_budget_violation\n\n(2 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 1 passed, 20 warnings in 10.58s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_canary_restoration.py": {
      "status": "PASS",
      "duration": 0.8324418067932129,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_canary_restoration.py .                                       [100%]\n\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 0.40s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_canary_router.py": {
      "status": "PASS",
      "duration": 0.6476700305938721,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_canary_router.py ..                                           [100%]\n\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.32s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_capabilities.py": {
      "status": "PASS",
      "duration": 6.7679502964019775,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_capabilities.py .                                             [100%]\n\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 6.46s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_cost_accounting.py": {
      "status": "PASS",
      "duration": 0.3329129219055176,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_cost_accounting.py ..                                         [100%]\n\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.08s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_critic_healer.py": {
      "status": "FAIL",
      "duration": 12.807049036026001,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_critic_healer.py F                                            [100%]\n\n=================================== FAILURES ===================================\n________________ test_submit_with_critic_healer_promotes_canary ________________\n  + Exception Group Traceback (most recent call last):\n  |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_utils.py\", line 79, in collapse_excgroups\n  |     yield\n  |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/runner.py\", line 344, in from_call\n    |     result: TResult | None = func()\n    |                              ~~~~^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/runner.py\", line 246, in <lambda>\n    |     lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n    |             ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    |     raise exception\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/logging.py\", line 850, in pytest_runtest_call\n    |     yield\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/capture.py\", line 900, in pytest_runtest_call\n    |     return (yield)\n    |             ^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    |     teardown.throw(exception)\n    |     ~~~~~~~~~~~~~~^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/skipping.py\", line 263, in pytest_runtest_call\n    |     return (yield)\n    |             ^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    |     res = hook_impl.function(*args)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/runner.py\", line 178, in pytest_runtest_call\n    |     item.runtest()\n    |     ~~~~~~~~~~~~^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/python.py\", line 1671, in runtest\n    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n    |            ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    |     raise exception\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    |     res = hook_impl.function(*args)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/python.py\", line 157, in pytest_pyfunc_call\n    |     result = testfunction(**testargs)\n    |   File \"/Users/baileymahoney/AgentForge/tests/test_critic_healer.py\", line 26, in test_submit_with_critic_healer_promotes_canary\n    |     r = client.post(\"/v1/jobs/submit_ch\", json=req)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 552, in post\n    |     return super().post(\n    |            ~~~~~~~~~~~~^\n    |         url,\n    |         ^^^^\n    |     ...<10 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 1144, in post\n    |     return self.request(\n    |            ~~~~~~~~~~~~^\n    |         \"POST\",\n    |         ^^^^^^^\n    |     ...<11 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 451, in request\n    |     return super().request(\n    |            ~~~~~~~~~~~~~~~^\n    |         method,\n    |         ^^^^^^^\n    |     ...<11 lines>...\n    |         extensions=extensions,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 825, in request\n    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)\n    |            ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 914, in send\n    |     response = self._send_handling_auth(\n    |         request,\n    |     ...<2 lines>...\n    |         history=[],\n    |     )\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 942, in _send_handling_auth\n    |     response = self._send_handling_redirects(\n    |         request,\n    |         follow_redirects=follow_redirects,\n    |         history=history,\n    |     )\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 979, in _send_handling_redirects\n    |     response = self._send_single_request(request)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 1014, in _send_single_request\n    |     response = transport.handle_request(request)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 354, in handle_request\n    |     raise exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 351, in handle_request\n    |     portal.call(self.app, scope, receive, send)\n    |     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py\", line 291, in call\n    |     return cast(T_Retval, self.start_task_soon(func, *args).result())\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py\", line 456, in result\n    |     return self.__get_result()\n    |            ~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py\", line 401, in __get_result\n    |     raise self._exception\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py\", line 222, in _call_func\n    |     retval = await retval_or_awaitable\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/applications.py\", line 113, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 186, in __call__\n    |     raise exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/api/metrics.py\", line 272, in _latency_mw\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 215, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 476, in submit_with_critic_healer\n    |     out = ch.run(goal=goal, total_agents=req.agents or 6)\n    |   File \"/Users/baileymahoney/AgentForge/swarm/critic_healer.py\", line 43, in run\n    |     base_results, base_decision = self._run(goal, base_n)\n    |                                   ~~~~~~~~~^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/critic_healer.py\", line 23, in _run\n    |     results = orch.run_goal_sync(goal)\n    |   File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 300, in run_goal_sync\n    |     out = execu.run(enriched, agents=self.num_agents)\n    |   File \"/Users/baileymahoney/AgentForge/swarm/planner.py\", line 109, in run\n    |     out = [w.run_step(step.capability, step.args) for w in workers]\n    |            ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/Users/baileymahoney/AgentForge/swarm/factory.py\", line 46, in run_step\n    |     result = cap.func(**args)\n    | TypeError: cap_bayesian_fusion() got an unexpected keyword argument 'context_snippets'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/baileymahoney/AgentForge/tests/test_critic_healer.py\", line 26, in test_submit_with_critic_healer_promotes_canary\n    r = client.post(\"/v1/jobs/submit_ch\", json=req)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 552, in post\n    return super().post(\n           ~~~~~~~~~~~~^\n        url,\n        ^^^^\n    ...<10 lines>...\n        extensions=extensions,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 1144, in post\n    return self.request(\n           ~~~~~~~~~~~~^\n        \"POST\",\n        ^^^^^^^\n    ...<11 lines>...\n        extensions=extensions,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 451, in request\n    return super().request(\n           ~~~~~~~~~~~~~~~^\n        method,\n        ^^^^^^^\n    ...<11 lines>...\n        extensions=extensions,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 825, in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 914, in send\n    response = self._send_handling_auth(\n        request,\n    ...<2 lines>...\n        history=[],\n    )\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 942, in _send_handling_auth\n    response = self._send_handling_redirects(\n        request,\n        follow_redirects=follow_redirects,\n        history=history,\n    )\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 979, in _send_handling_redirects\n    response = self._send_single_request(request)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py\", line 1014, in _send_single_request\n    response = transport.handle_request(request)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 354, in handle_request\n    raise exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py\", line 351, in handle_request\n    portal.call(self.app, scope, receive, send)\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py\", line 291, in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py\", line 456, in result\n    return self.__get_result()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py\", line 222, in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py\", line 1054, in __call__\n    await super().__call__(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/applications.py\", line 113, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 186, in __call__\n    raise exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/AgentForge/swarm/api/metrics.py\", line 272, in _latency_mw\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py\", line 215, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"/Users/baileymahoney/AgentForge/swarm/api/main.py\", line 476, in submit_with_critic_healer\n    out = ch.run(goal=goal, total_agents=req.agents or 6)\n  File \"/Users/baileymahoney/AgentForge/swarm/critic_healer.py\", line 43, in run\n    base_results, base_decision = self._run(goal, base_n)\n                                  ~~~~~~~~~^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/AgentForge/swarm/critic_healer.py\", line 23, in _run\n    results = orch.run_goal_sync(goal)\n  File \"/Users/baileymahoney/AgentForge/orchestrator.py\", line 300, in run_goal_sync\n    out = execu.run(enriched, agents=self.num_agents)\n  File \"/Users/baileymahoney/AgentForge/swarm/planner.py\", line 109, in run\n    out = [w.run_step(step.capability, step.args) for w in workers]\n           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/baileymahoney/AgentForge/swarm/factory.py\", line 46, in run_step\n    result = cap.func(**args)\nTypeError: cap_bayesian_fusion() got an unexpected keyword argument 'context_snippets'\n\nDuring handling of the above exception, another exception occurred:\ntests/test_critic_healer.py:26: in test_submit_with_critic_healer_promotes_canary\n    r = client.post(\"/v1/jobs/submit_ch\", json=req)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py:552: in post\n    return super().post(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:1144: in post\n    return self.request(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py:451: in request\n    return super().request(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py:354: in handle_request\n    raise exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/testclient.py:351: in handle_request\n    portal.call(self.app, scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py:186: in __call__\n    raise exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/errors.py:164: in __call__\n    await self.app(scope, receive, _send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py:182: in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/contextlib.py:162: in __exit__\n    self.gen.throw(value)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_utils.py:85: in collapse_excgroups\n    raise exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py:184: in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nswarm/api/metrics.py:272: in _latency_mw\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py:159: in call_next\n    raise app_exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/base.py:144: in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/middleware/exceptions.py:63: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py:716: in __call__\n    await self.middleware_stack(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py:736: in app\n    await route.handle(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py:290: in handle\n    await self.app(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py:78: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/routing.py:75: in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py:302: in app\n    raw_response = await run_endpoint_function(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/routing.py:215: in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/starlette/concurrency.py:38: in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/to_thread.py:56: in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/_backends/_asyncio.py:2476: in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/anyio/_backends/_asyncio.py:967: in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\nswarm/api/main.py:476: in submit_with_critic_healer\n    out = ch.run(goal=goal, total_agents=req.agents or 6)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nswarm/critic_healer.py:43: in run\n    base_results, base_decision = self._run(goal, base_n)\n                                  ^^^^^^^^^^^^^^^^^^^^^^^\nswarm/critic_healer.py:23: in _run\n    results = orch.run_goal_sync(goal)\n              ^^^^^^^^^^^^^^^^^^^^^^^^\norchestrator.py:300: in run_goal_sync\n    out = execu.run(enriched, agents=self.num_agents)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nswarm/planner.py:109: in run\n    out = [w.run_step(step.capability, step.args) for w in workers]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nswarm/factory.py:46: in run_step\n    result = cap.func(**args)\n             ^^^^^^^^^^^^^^^^\nE   TypeError: cap_bayesian_fusion() got an unexpected keyword argument 'context_snippets'\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.29s call     tests/test_critic_healer.py::test_submit_with_critic_healer_promotes_canary\n\n(2 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_critic_healer.py::test_submit_with_critic_healer_promotes_canary\n======================= 1 failed, 20 warnings in 11.08s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_drift.py": {
      "status": "PASS",
      "duration": 0.47777891159057617,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntests/test_drift.py ...                                                  [100%]\n\n============================= slowest 25 durations =============================\n\n(9 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 3 passed in 0.20s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_e2e_policy.py": {
      "status": "PASS",
      "duration": 12.012020111083984,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_e2e_policy.py ..                                              [100%]\n\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.03s call     tests/test_e2e_policy.py::test_upload_and_submit_approved\n0.01s call     tests/test_e2e_policy.py::test_submit_rejected_when_errors\n\n(4 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 2 passed, 20 warnings in 10.58s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_edge_disconnect_reconnect.py": {
      "status": "FAIL",
      "duration": 0.3017771244049072,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_edge_disconnect_reconnect.py F                                [100%]\n\n=================================== FAILURES ===================================\n_______________________ test_replay_queue_depth_depletes _______________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n=============================== warnings summary ===============================\ntests/test_edge_disconnect_reconnect.py::test_replay_queue_depth_depletes\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_replay_queue_depth_depletes' requested an async fixture 'patch_nats' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_edge_disconnect_reconnect.py::test_replay_queue_depth_depletes\n========================= 1 failed, 1 warning in 0.01s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_edge_store_forward.py": {
      "status": "FAIL",
      "duration": 0.20522809028625488,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_edge_store_forward.py FF                                      [100%]\n\n=================================== FAILURES ===================================\n_______________ test_persistence_and_replay_without_duplication ________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n________________ test_edge_link_status_metric_and_gauge_toggle _________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n=============================== warnings summary ===============================\ntests/test_edge_store_forward.py::test_persistence_and_replay_without_duplication\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_persistence_and_replay_without_duplication' requested an async fixture 'set_edge_env' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\ntests/test_edge_store_forward.py::test_edge_link_status_metric_and_gauge_toggle\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_edge_link_status_metric_and_gauge_toggle' requested an async fixture 'set_edge_env' with autouse=True, with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.\n  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_edge_store_forward.py::test_persistence_and_replay_without_duplication\nFAILED tests/test_edge_store_forward.py::test_edge_link_status_metric_and_gauge_toggle\n======================== 2 failed, 2 warnings in 0.01s =========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_evidence_bundle.py": {
      "status": "PASS",
      "duration": 12.170279026031494,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntests/test_evidence_bundle.py ...                                        [100%]\n\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.02s call     tests/test_evidence_bundle.py::test_evidence_bundle_not_found\n0.01s call     tests/test_evidence_bundle.py::test_evidence_bundle_with_persisted_dag\n0.01s call     tests/test_evidence_bundle.py::test_evidence_bundle_reproducibility_flags\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 3 passed, 20 warnings in 10.49s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_fusion_latency_budget.py": {
      "status": "PASS",
      "duration": 12.787824869155884,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_fusion_latency_budget.py .                                    [100%]\n\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\ntests/test_fusion_latency_budget.py::test_fusion_latency_budget_violation\n  /Users/baileymahoney/AgentForge/swarm/storage.py:190: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"created_at\": _dt.datetime.utcnow().isoformat() + \"Z\",\n\ntests/test_fusion_latency_budget.py::test_fusion_latency_budget_violation\n  /Users/baileymahoney/AgentForge/swarm/storage.py:166: DeprecationWarning: There is no current event loop\n    loop = asyncio.get_event_loop()\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.38s call     tests/test_fusion_latency_budget.py::test_fusion_latency_budget_violation\n\n(2 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 1 passed, 22 warnings in 10.89s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_fusion_pipeline.py": {
      "status": "PASS",
      "duration": 12.687406063079834,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_fusion_pipeline.py ..                                         [100%]\n\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\ntests/test_fusion_pipeline.py::test_fuse_calibrate_persist_track\n  /Users/baileymahoney/AgentForge/swarm/storage.py:190: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"created_at\": _dt.datetime.utcnow().isoformat() + \"Z\",\n\ntests/test_fusion_pipeline.py::test_fuse_calibrate_persist_track\n  /Users/baileymahoney/AgentForge/swarm/storage.py:166: DeprecationWarning: There is no current event loop\n    loop = asyncio.get_event_loop()\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.38s call     tests/test_fusion_pipeline.py::test_fuse_calibrate_persist_track\n\n(5 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 2 passed, 22 warnings in 10.86s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_fusion_roc_det.py": {
      "status": "PASS",
      "duration": 0.5225663185119629,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_fusion_roc_det.py .                                           [100%]\n\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 0.22s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_geojson_schema.py": {
      "status": "PASS",
      "duration": 0.25665998458862305,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_geojson_schema.py ..                                          [100%]\n\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.06s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_hf.py": {
      "status": "PASS",
      "duration": 0.5632498264312744,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_hf.py .                                                       [100%]\n\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 1 passed in 0.32s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_imports.py": {
      "status": "PASS",
      "duration": 12.0363609790802,
      "output": "============================= test session starts ==============================\ncollected 5 items\n\ntests/test_imports.py .....                                              [100%]\n\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.18s call     tests/test_imports.py::test_no_circular_imports\n0.01s call     tests/test_imports.py::test_router_imports\n\n(13 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 5 passed, 18 warnings in 10.53s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_memory.py": {
      "status": "PASS",
      "duration": 2.8763999938964844,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_memory.py ..                                                  [100%]\n\n============================= slowest 25 durations =============================\n0.01s call     tests/test_memory.py::test_semantic_search_min_score\n\n(5 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 2.00s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_memory_mesh.py": {
      "status": "PASS",
      "duration": 0.490919828414917,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_memory_mesh.py ..                                             [100%]\n\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.19s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_memory_store.py": {
      "status": "FAIL",
      "duration": 0.40779590606689453,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_memory_store.py F                                             [100%]\n\n=================================== FAILURES ===================================\n____________________________ test_upsert_and_search ____________________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_memory_store.py::test_upsert_and_search - Failed: async def...\n============================== 1 failed in 0.12s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_metrics.py": {
      "status": "PASS",
      "duration": 11.997234106063843,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_metrics.py ..                                                 [100%]\n\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.01s call     tests/test_metrics.py::test_metrics_endpoint\n\n(5 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 2 passed, 20 warnings in 10.51s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_observability_context.py": {
      "status": "PASS",
      "duration": 12.249967813491821,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntests/test_observability_context.py ...                                  [100%]\n\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\nswarm/api/main.py:549\n  /Users/baileymahoney/AgentForge/swarm/api/main.py:549: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.01s call     tests/test_observability_context.py::test_cost_metrics_with_context\n\n(8 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 3 passed, 20 warnings in 10.67s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_planner.py": {
      "status": "PASS",
      "duration": 7.052392959594727,
      "output": "============================= test session starts ==============================\ncollected 3 items\n\ntests/test_planner.py ...                                                [100%]\n\n============================= slowest 25 durations =============================\n0.01s call     tests/test_planner.py::test_dag_determinism_and_persistence\n\n(8 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 3 passed in 6.53s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_results_sink.py": {
      "status": "FAIL",
      "duration": 0.44780969619750977,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_results_sink.py F                                             [100%]\n\n=================================== FAILURES ===================================\n_______________________ test_results_sink_jsonl_fallback _______________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_results_sink.py::test_results_sink_jsonl_fallback - Failed:...\n============================== 1 failed in 0.01s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_reviewer.py": {
      "status": "PASS",
      "duration": 0.756638765335083,
      "output": "============================= test session starts ==============================\ncollected 4 items\n\ntests/test_reviewer.py ....                                              [100%]\n\n============================= slowest 25 durations =============================\n0.02s call     tests/test_reviewer.py::test_adjudication_persists_feedback\n\n(11 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 4 passed in 0.42s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_router.py": {
      "status": "PASS",
      "duration": 12.441029071807861,
      "output": "============================= test session starts ==============================\ncollected 5 items\n\ntests/test_router.py .....                                               [100%]\n\n=============================== warnings summary ===============================\n../.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: 16 warnings\n  /Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/pydantic/v1/typing.py:68: DeprecationWarning: Failing to pass a value to the 'type_params' parameter of 'typing.ForwardRef._evaluate' is deprecated, as it leads to incorrect behaviour when calling typing.ForwardRef._evaluate on a stringified annotation that references a PEP 695 type parameter. It will be disallowed in Python 3.15.\n    return cast(Any, type_)._evaluate(globalns, localns, recursive_guard=set())\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.MessageMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n<frozen importlib._bootstrap>:488\n  <frozen importlib._bootstrap>:488: DeprecationWarning: Type google._upb._message.ScalarMapContainer uses PyType_Spec with a metaclass that has custom tp_new. This is deprecated and will no longer be allowed in Python 3.14.\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 25 durations =============================\n0.19s call     tests/test_router.py::test_no_circular_imports\n\n(14 durations < 0.005s hidden.  Use -vv to show these durations.)\n======================= 5 passed, 18 warnings in 10.88s ========================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_span_attributes.py": {
      "status": "PASS",
      "duration": 0.3367750644683838,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_span_attributes.py ..                                         [100%]\n\n============================= slowest 25 durations =============================\n0.01s call     tests/test_span_attributes.py::test_span_tagging_mission_task\n\n(5 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.05s ===============================\n",
      "error": "Exception ignored in atexit callback <bound method TracerProvider.shutdown of <opentelemetry.sdk.trace.TracerProvider object at 0x1071be270>>:\nTraceback (most recent call last):\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/opentelemetry/sdk/trace/__init__.py\", line 1268, in shutdown\n    self._active_span_processor.shutdown()\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/opentelemetry/sdk/trace/__init__.py\", line 173, in shutdown\n    sp.shutdown()\n  File \"/Users/baileymahoney/.pyenv/versions/3.13.0/lib/python3.13/site-packages/opentelemetry/sdk/trace/export/__init__.py\", line 120, in shutdown\n    self.span_exporter.shutdown()\nAttributeError: 'InMemorySpanExporter' object has no attribute 'shutdown'\n",
      "traceback": ""
    },
    "tests/test_sse_ws_security.py": {
      "status": "TIMEOUT",
      "duration": 100.04630708694458,
      "output": "",
      "error": "Test file timed out after 90 seconds",
      "traceback": ""
    },
    "tests/test_sse_ws_stream.py": {
      "status": "TIMEOUT",
      "duration": 100.0673680305481,
      "output": "",
      "error": "Test file timed out after 90 seconds",
      "traceback": ""
    },
    "tests/test_tool_executor_dlq.py": {
      "status": "FAIL",
      "duration": 0.36252307891845703,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_tool_executor_dlq.py F                                        [100%]\n\n=================================== FAILURES ===================================\n______________________ test_dlq_on_non_retryable_failure _______________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_tool_executor_dlq.py::test_dlq_on_non_retryable_failure - F...\n============================== 1 failed in 0.01s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_tool_executor_idempotency.py": {
      "status": "PASS",
      "duration": 0.4976677894592285,
      "output": "============================= test session starts ==============================\ncollected 2 items\n\ntests/test_tool_executor_idempotency.py ..                               [100%]\n\n============================= slowest 25 durations =============================\n\n(6 durations < 0.005s hidden.  Use -vv to show these durations.)\n============================== 2 passed in 0.26s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_tool_executor_operation_key.py": {
      "status": "FAIL",
      "duration": 0.1956489086151123,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_tool_executor_operation_key.py F                              [100%]\n\n=================================== FAILURES ===================================\n_____________________ test_operation_key_idempotent_replay _____________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_tool_executor_operation_key.py::test_operation_key_idempotent_replay\n============================== 1 failed in 0.01s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_tool_executor_retry.py": {
      "status": "FAIL",
      "duration": 0.20355582237243652,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_tool_executor_retry.py F                                      [100%]\n\n=================================== FAILURES ===================================\n__________________________ test_retry_and_idempotency __________________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_tool_executor_retry.py::test_retry_and_idempotency - Failed...\n============================== 1 failed in 0.01s ===============================\n",
      "error": "",
      "traceback": ""
    },
    "tests/test_tool_executor_retry_deterministic.py": {
      "status": "FAIL",
      "duration": 0.21544599533081055,
      "output": "============================= test session starts ==============================\ncollected 1 item\n\ntests/test_tool_executor_retry_deterministic.py F                        [100%]\n\n=================================== FAILURES ===================================\n________________________ test_deterministic_retry_flow _________________________\nasync def functions are not natively supported.\nYou need to install a suitable plugin for your async framework, for example:\n  - anyio\n  - pytest-asyncio\n  - pytest-tornasync\n  - pytest-trio\n  - pytest-twisted\n============================= slowest 25 durations =============================\n\n(3 durations < 0.005s hidden.  Use -vv to show these durations.)\n=========================== short test summary info ============================\nFAILED tests/test_tool_executor_retry_deterministic.py::test_deterministic_retry_flow\n============================== 1 failed in 0.01s ===============================\n",
      "error": "",
      "traceback": ""
    }
  }
}